<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Currency Converter</title>
    <style>
      :root {
        color-scheme: light dark;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background-color: #f8fafc;
        color: #0f172a;
      }

      body {
        margin: 0;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(150deg, #f0f9ff 0%, #e0f2fe 45%, #bae6fd 100%);
        padding: 1.5rem;
      }

      main {
        width: 100%;
        max-width: 720px;
        background: rgba(255, 255, 255, 0.92);
        border-radius: 24px;
        padding: clamp(1.75rem, 4vw, 2.6rem);
        box-shadow: 0 28px 60px rgba(14, 165, 233, 0.25);
        display: grid;
        gap: 1.75rem;
      }

      .back-link {
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
        color: #0ea5e9;
        font-weight: 600;
        text-decoration: none;
      }

      .back-link:hover {
        text-decoration: underline;
      }

      h1 {
        margin: 0;
        font-size: clamp(2rem, 4vw, 2.6rem);
      }

      p.description {
        margin: 0;
        color: #334155;
        line-height: 1.7;
      }

      .converter {
        display: grid;
        gap: 1.25rem;
      }

      .field {
        display: grid;
        gap: 0.5rem;
      }

      label {
        font-weight: 600;
        color: #0f172a;
      }

      input[type="number"],
      select {
        border-radius: 14px;
        border: 1px solid #cbd5f5;
        background: #f8fafc;
        font: inherit;
        padding: 0.75rem 1rem;
        color: #0f172a;
      }

      input:focus,
      select:focus {
        outline: none;
        border-color: #38bdf8;
        box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.25);
      }

      .row {
        display: grid;
        gap: 1rem;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        align-items: end;
      }

      .actions {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
      }

      button {
        border: none;
        border-radius: 999px;
        padding: 0.65rem 1.4rem;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.18s ease, box-shadow 0.18s ease;
      }

      button.primary {
        background: linear-gradient(135deg, #38bdf8, #0ea5e9);
        color: white;
        box-shadow: 0 18px 40px rgba(14, 165, 233, 0.35);
      }

      button.secondary {
        background: #e2e8f0;
        color: #0f172a;
      }

      button:hover {
        transform: translateY(-1px);
      }

      .result {
        background: linear-gradient(120deg, rgba(14, 165, 233, 0.15), rgba(56, 189, 248, 0.25));
        border-radius: 18px;
        padding: 1.25rem;
        display: grid;
        gap: 0.35rem;
      }

      .result strong {
        font-size: clamp(1.8rem, 4vw, 2.4rem);
      }

      .rate-info {
        color: #475569;
        font-size: 0.95rem;
      }

      .presets {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
      }

      .preset {
        border-radius: 999px;
        border: 1px solid rgba(14, 165, 233, 0.4);
        padding: 0.4rem 0.9rem;
        background: rgba(240, 249, 255, 0.9);
        color: #0f172a;
        cursor: pointer;
        transition: background 0.2s ease;
      }

      .preset:hover {
        background: rgba(56, 189, 248, 0.2);
      }

      table {
        width: 100%;
        border-collapse: collapse;
      }

      th,
      td {
        padding: 0.65rem 0.5rem;
        text-align: left;
      }

      tbody tr:nth-child(odd) {
        background: rgba(226, 232, 240, 0.35);
      }

      @media (max-width: 600px) {
        body {
          padding: 1.25rem;
        }

        main {
          border-radius: 20px;
        }
      }
    </style>
  </head>
  <body>
    <main>
      <a class="back-link" href="/">← Back to toolbox</a>
      <div>
        <h1>Currency Converter</h1>
        <p class="description">
          Convert between popular currencies using reference rates (updated this
          month). Swap directions with a tap, explore quick presets, and copy the
          math for later.
        </p>
      </div>
      <section class="converter" aria-label="Currency converter">
        <div class="row">
          <div class="field">
            <label for="amount">Amount</label>
            <input
              id="amount"
              type="number"
              inputmode="decimal"
              min="0"
              step="any"
              placeholder="100"
              value="100"
              aria-describedby="rate-info"
            />
          </div>
          <div class="field">
            <label for="from">From</label>
            <select id="from"></select>
          </div>
          <div class="field">
            <label for="to">To</label>
            <select id="to"></select>
          </div>
        </div>
        <div class="actions">
          <button type="button" class="primary" id="convert">Convert</button>
          <button type="button" class="secondary" id="swap">Swap</button>
          <button type="button" class="secondary" id="copy">Copy result</button>
        </div>
        <div class="result" aria-live="polite">
          <span id="conversion"></span>
          <strong id="total">—</strong>
          <span class="rate-info" id="rate-info"></span>
        </div>
        <div>
          <h2>Quick presets</h2>
          <div class="presets" id="presets" aria-label="Preset conversions"></div>
        </div>
        <div>
          <h2>Reference rates</h2>
          <table aria-describedby="rate-info">
            <thead>
              <tr>
                <th scope="col">Currency</th>
                <th scope="col">Per USD</th>
              </tr>
            </thead>
            <tbody id="rates"></tbody>
          </table>
        </div>
      </section>
    </main>
    <script>
      const RATES = {
        USD: 1,
        EUR: 0.92,
        GBP: 0.79,
        CAD: 1.34,
        AUD: 1.52,
        JPY: 147.95,
        INR: 83.12,
        CNY: 7.19,
        CHF: 0.87,
        SEK: 10.25,
      };

      const PRESETS = [
        { amount: 50, from: "USD", to: "EUR" },
        { amount: 100, from: "EUR", to: "USD" },
        { amount: 250, from: "USD", to: "GBP" },
        { amount: 1000, from: "USD", to: "JPY" },
      ];

      const amountInput = document.getElementById("amount");
      const fromSelect = document.getElementById("from");
      const toSelect = document.getElementById("to");
      const convertButton = document.getElementById("convert");
      const swapButton = document.getElementById("swap");
      const copyButton = document.getElementById("copy");
      const conversionText = document.getElementById("conversion");
      const totalText = document.getElementById("total");
      const rateInfo = document.getElementById("rate-info");
      const presetsContainer = document.getElementById("presets");
      const ratesTable = document.getElementById("rates");

      const formatCurrency = (code, value) => {
        return new Intl.NumberFormat(undefined, {
          style: "currency",
          currency: code,
          maximumFractionDigits: 2,
        }).format(value);
      };

      const populateSelect = () => {
        const fragment = document.createDocumentFragment();
        Object.keys(RATES)
          .sort()
          .forEach((code) => {
            const option = document.createElement("option");
            option.value = code;
            option.textContent = `${code}`;
            fragment.appendChild(option);
          });
        fromSelect.appendChild(fragment.cloneNode(true));
        toSelect.appendChild(fragment);
        fromSelect.value = "USD";
        toSelect.value = "EUR";
      };

      const populateRatesTable = () => {
        const fragment = document.createDocumentFragment();
        Object.entries(RATES)
          .sort(([a], [b]) => a.localeCompare(b))
          .forEach(([code, rate]) => {
            const row = document.createElement("tr");
            row.innerHTML = `<td>${code}</td><td>${rate.toFixed(4)}</td>`;
            fragment.appendChild(row);
          });
        ratesTable.appendChild(fragment);
      };

      const populatePresets = () => {
        const fragment = document.createDocumentFragment();
        PRESETS.forEach((preset) => {
          const button = document.createElement("button");
          button.type = "button";
          button.className = "preset";
          button.textContent = `${preset.amount} ${preset.from} → ${preset.to}`;
          button.addEventListener("click", () => {
            amountInput.value = preset.amount;
            fromSelect.value = preset.from;
            toSelect.value = preset.to;
            convert();
          });
          fragment.appendChild(button);
        });
        presetsContainer.appendChild(fragment);
      };

      const convert = () => {
        const amount = Number(amountInput.value);
        if (!Number.isFinite(amount) || amount < 0) {
          conversionText.textContent = "Enter a positive number to convert.";
          totalText.textContent = "—";
          return;
        }

        const fromRate = RATES[fromSelect.value];
        const toRate = RATES[toSelect.value];
        const usdValue = amount / fromRate;
        const converted = usdValue * toRate;
        conversionText.textContent = `${formatCurrency(
          fromSelect.value,
          amount
        )} equals`;
        totalText.textContent = formatCurrency(toSelect.value, converted);
        rateInfo.textContent = `1 ${fromSelect.value} = ${(toRate / fromRate).toFixed(
          4
        )} ${toSelect.value}`;
      };

      const swap = () => {
        const from = fromSelect.value;
        fromSelect.value = toSelect.value;
        toSelect.value = from;
        convert();
      };

      const copyResult = async () => {
        const text = `${conversionText.textContent} ${totalText.textContent} (rate: ${rateInfo.textContent})`;
        try {
          await navigator.clipboard.writeText(text.trim());
          copyButton.textContent = "Copied!";
          setTimeout(() => {
            copyButton.textContent = "Copy result";
          }, 1500);
        } catch (error) {
          copyButton.textContent = "Copy failed";
          setTimeout(() => {
            copyButton.textContent = "Copy result";
          }, 1500);
        }
      };

      amountInput.addEventListener("keydown", (event) => {
        if (event.key === "Enter") {
          event.preventDefault();
          convert();
        }
      });

      convertButton.addEventListener("click", convert);
      swapButton.addEventListener("click", swap);
      copyButton.addEventListener("click", copyResult);

      populateSelect();
      populateRatesTable();
      populatePresets();
      convert();
    </script>
  </body>
</html>
